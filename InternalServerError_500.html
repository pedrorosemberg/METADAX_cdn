<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de Teste - METADAX CDN</title>

    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide:wght@400&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/components/css/styles.css">

    <script src="/metadax-loader.js"></script>
    <script>
        // Inicializa o loader com a logo padrão
        MetadaxLoader.init({
            logoUrl: '/assets/images/metadax_b.svg',
            duration: 3000
        });
    </script>
</head>
<body class="metadax-body">
    
    <main class="metadax-main">
        <div class="metadax-container">
            <h1 style="text-align: center; margin-top: 50px;">[500] ERRO INTERNO DO SERVIDOR</h1>
            <p style="text-align: center; max-width: 600px; margin: 20px auto; font-size: 1.1rem; color: var(--metadax-gray-600);">
                Não sabemos o que aconteceu, mas iremos investigar.
            </p>
            <div style="height: 1000px; background: var(--metadax-gray-100); margin-top: 50px; padding: 20px; text-align: center; border-radius: 12px;">
                <p><spam id="error-code"></spam></p>
            </div>
        </div>
    </main>

    <script src="/component-loader.js"></script>
<script>
function generateErrorCode() {
    // 1. Data/Hora ISO completa
    const now = new Date();
    const isoDate = now.toISOString();

    // 2. Salt baseado no timestamp
    const salt = now.getTime().toString();

    // 3. Alfabeto para código randômico
    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    let code = "";

    // 4. Gera 10 caracteres pseudo-randômicos usando salt
    for (let i = 0; i < 10; i++) {
        const index = (Math.floor(Math.random() * chars.length) + parseInt(salt[i % salt.length])) % chars.length;
        code += chars.charAt(index);
    }

    // 5. Exibe no HTML
    document.getElementById("error-code").innerHTML = isoDate + "<br>" + code;
}

// Chama a função assim que a página carregar
document.addEventListener("DOMContentLoaded", generateErrorCode);
</script>

</body>
</html>