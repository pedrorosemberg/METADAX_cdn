<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P√°gina de Teste - METADAX CDN</title>

    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide:wght@400&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/components/css/styles.css">
</head>
<body class="metadax-body">
    
    <main class="metadax-main">
        <div class="metadax-container">
            <h1 style="text-align: center; margin-top: 50px;">Carregando...</h1>
            <p style="text-align: center; max-width: 600px; margin: 20px auto; font-size: 1.1rem; color: var(--metadax-gray-600);">
                Nossas ferramentas est√£o sendo acessadas.
            </p>
            <div style="height: 400px; background: var(--metadax-gray-100); margin-top: 50px; padding: 20px; text-align: center; border-radius: 12px;">
                <p><span id="error-code"></span></p>
            </div>
        </div>
    </main>

<script>
function generateErrorCode() {
    // 1. Data/Hora ISO completa
    const now = new Date();
    const isoDate = now.toISOString();

    // 2. Salt baseado no timestamp
    const salt = now.getTime().toString();

    // 3. Alfabeto para c√≥digo rand√¥mico
    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    let code = "";

    // 4. Gera 10 caracteres pseudo-rand√¥micos usando salt
    for (let i = 0; i < 10; i++) {
        const index = (Math.floor(Math.random() * chars.length) + parseInt(salt[i % salt.length])) % chars.length;
        code += chars.charAt(index);
    }

    return isoDate + "<br><br>" + code;
}

document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("error-code").innerHTML = "‚ö†Ô∏è Isso est√° levando mais tempo que o normal...";
    setTimeout(() => {
        document.body.innerHTML = `
            <main class="metadax-main">
                <div class="metadax-container">
                    <h1 style="text-align: center; margin-top: 50px;">[500] ERRO INTERNO DO SERVIDOR üõü</h1>
                    <p style="text-align: center; max-width: 600px; margin: 20px auto; font-size: 1.1rem; color: var(--metadax-gray-600);">
                        N√£o sabemos o que aconteceu, mas iremos investigar.
                    </p>
                    <div style="height: 400px; background: var(--metadax-gray-100); margin-top: 50px; padding: 20px; text-align: center; border-radius: 12px;">
                        <p><span id="error-code">${generateErrorCode()}</span></p>
                    </div>
                </div>
            </main>
        `;
    }, 20000);
});
</script>

</body>
</html>
